<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>極簡電視模擬器</title>
    <style>
        body { background: #222; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
        
        /* 電視外框 */
        .tv-container { position: relative; width: 640px; height: 360px; background: #000; border: 15px solid #333; border-radius: 10px; overflow: hidden; }
        #player { width: 100%; height: 100%; }

        /* 螢幕上的資訊 (OSD) */
        #osd { position: absolute; top: 20px; left: 20px; color: #0f0; font-size: 32px; font-family: 'Courier New', monospace; text-shadow: 2px 2px #000; display: none; }

        /* 遙控器佈局 */
        .remote { margin-top: 20px; display: grid; grid-template-columns: repeat(3, 60px); gap: 10px; background: #444; padding: 20px; border-radius: 20px; }
        button { padding: 10px; cursor: pointer; background: #666; color: white; border: none; border-radius: 5px; }
        button:active { background: #888; }
        .span-3 { grid-column: span 3; }
    </style>
</head>
<body>

    <div class="tv-container">
        <div id="player"></div>
        <div id="osd">CH 1</div>
    </div>

    <div class="remote">
        <button onclick="pressNumber(1)">1</button>
        <button onclick="pressNumber(2)">2</button>
        <button onclick="pressNumber(3)">3</button>
        <button onclick="pressNumber(4)">4</button>
        <button onclick="pressNumber(5)">5</button>
        <button onclick="pressNumber(6)">6</button>
        <button class="span-3" onclick="changeChannel(1)">▲ 上一頻道</button>
        <button class="span-3" onclick="changeChannel(-1)">▼ 下一頻道</button>
        <button onclick="adjustVolume(10)">音量+</button>
        <button onclick="adjustVolume(-10)">音量-</button>
        <button onclick="toggleMute()">靜音</button>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // 設定頻道清單 (這裡放 YouTube 直播的 ID)
        const channels = [
            { id: '5n0z6M_2y_E', name: '新聞台' }, 
            { id: 'O2dAuzl3nwc', name: '我們這一家' },
            { id: 'Dx5qqtHdqwY', name: '氣象台' }
        ];
        let currentIndex = 0;
        let player;

        // YouTube API 初始化
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '360',
                width: '640',
                videoId: channels[currentIndex].id,
                playerVars: { 'autoplay': 1, 'controls': 0, 'modestbranding': 1 },
                events: { 'onReady': onPlayerReady }
            });
        }

        function onPlayerReady(event) {
            showOSD(`CH ${currentIndex + 1}`);
        }

        // 轉台邏輯
        function changeChannel(direction) {
            currentIndex = (currentIndex + direction + channels.length) % channels.length;
            updateTV();
        }

        function pressNumber(num) {
            if (num <= channels.length) {
                currentIndex = num - 1;
                updateTV();
            }
        }

        function updateTV() {
            player.loadVideoById(channels[currentIndex].id);
            showOSD(`CH ${currentIndex + 1}`);
        }

        // 音量邏輯
        function adjustVolume(delta) {
            let currentVol = player.getVolume();
            player.setVolume(currentVol + delta);
            showOSD(`音量: ${currentVol + delta}`);
        }

        // 顯示螢幕資訊
        let osdTimer;
        function showOSD(text) {
            const osd = document.getElementById('osd');
            osd.innerText = text;
            osd.style.display = 'block';
            clearTimeout(osdTimer);
            osdTimer = setTimeout(() => { osd.style.display = 'none'; }, 2000);
        }
    </script>
</body>
</html>
